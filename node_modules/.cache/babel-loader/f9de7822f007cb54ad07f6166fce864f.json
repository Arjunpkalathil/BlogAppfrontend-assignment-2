{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ARJUN\\\\Desktop\\\\BlogAppfrontend-assignment 2\\\\src\\\\context\\\\context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useEffect, useReducer } from 'react';\nimport { reducer } from './reducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst contextApi = /*#__PURE__*/React.createContext();\nlet INITIAL_STATE = {\n  user: localStorage.getItem('jwt') || null,\n  isFetching: false,\n  error: false\n};\nexport const ContextAppProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(reducer, INITIAL_STATE);\n\n  const startLogin = () => {\n    dispatch({\n      type: 'START_LOGIN'\n    });\n  };\n\n  const loginSuccess = user => {\n    dispatch({\n      type: 'LOGIN_SUCCESS',\n      payload: user\n    });\n  };\n\n  const loginFail = () => {\n    dispatch({\n      type: 'LOGIN_FAIL'\n    });\n  };\n\n  useEffect(() => {\n    localStorage.setItem('jwt', state.user);\n  }, [state.user]);\n\n  const logoutUser = () => {\n    dispatch({\n      type: 'LOGOUT_USER'\n    });\n    window.location.replace('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(contextApi.Provider, {\n    value: {\n      logoutUser,\n      loginSuccess,\n      startLogin,\n      loginFail,\n      state\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 10\n  }, this);\n};\n\n_s(ContextAppProvider, \"hDji3Qime4PuVpufx3kd+fad4Qs=\");\n\n_c = ContextAppProvider;\nexport const useGlobalContext = () => {\n  _s2();\n\n  return useContext(contextApi);\n};\n\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextAppProvider\");","map":{"version":3,"sources":["C:/Users/ARJUN/Desktop/BlogAppfrontend-assignment 2/src/context/context.js"],"names":["React","useContext","useEffect","useReducer","reducer","contextApi","createContext","INITIAL_STATE","user","localStorage","getItem","isFetching","error","ContextAppProvider","children","state","dispatch","startLogin","type","loginSuccess","payload","loginFail","setItem","logoutUser","window","location","replace","useGlobalContext"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,UAAvC,QAAyD,OAAzD;AACA,SAASC,OAAT,QAAwB,WAAxB;;AACA,MAAMC,UAAU,gBAACL,KAAK,CAACM,aAAN,EAAjB;AACA,IAAIC,aAAa,GAAC;AAChBC,EAAAA,IAAI,EAAEC,YAAY,CAACC,OAAb,CAAqB,KAArB,KAA+B,IADrB;AAEhBC,EAAAA,UAAU,EAAC,KAFK;AAGhBC,EAAAA,KAAK,EAAC;AAHU,CAAlB;AAKA,OAAO,MAAMC,kBAAkB,GAAG,QAAgB;AAAA;;AAAA,MAAf;AAACC,IAAAA;AAAD,GAAe;AAChD,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAiBb,UAAU,CAACC,OAAD,EAASG,aAAT,CAAjC;;AAEA,QAAMU,UAAU,GAAC,MAAI;AACnBD,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAR;AACD,GAFD;;AAGA,QAAMC,YAAY,GAAEX,IAAD,IAAQ;AACzBQ,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAC,eAAN;AAAsBE,MAAAA,OAAO,EAACZ;AAA9B,KAAD,CAAR;AACD,GAFD;;AAGA,QAAMa,SAAS,GAAC,MAAI;AAClBL,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAR;AAED,GAHD;;AAKFhB,EAAAA,SAAS,CAAC,MAAI;AACZO,IAAAA,YAAY,CAACa,OAAb,CAAqB,KAArB,EAA2BP,KAAK,CAACP,IAAjC;AACD,GAFQ,EAEP,CAACO,KAAK,CAACP,IAAP,CAFO,CAAT;;AAIA,QAAMe,UAAU,GAAC,MAAI;AACpBP,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAR;AACAM,IAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB;AACA,GAHD;;AAIE,sBAAO,QAAC,UAAD,CAAY,QAAZ;AAAqB,IAAA,KAAK,EAAE;AAACH,MAAAA,UAAD;AAAYJ,MAAAA,YAAZ;AAAyBF,MAAAA,UAAzB;AAAoCI,MAAAA,SAApC;AAA8CN,MAAAA;AAA9C,KAA5B;AAAA,cAAmFD;AAAnF;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAvBM;;GAAMD,kB;;KAAAA,kB;AA0Bb,OAAO,MAAMc,gBAAgB,GAAC,MAAI;AAAA;;AAC9B,SAAO1B,UAAU,CAACI,UAAD,CAAjB;AACH,CAFM;;IAAMsB,gB","sourcesContent":["import React, { useContext, useEffect, useReducer } from 'react';\nimport { reducer } from './reducer';\nconst contextApi=React.createContext()\nlet INITIAL_STATE={\n  user: localStorage.getItem('jwt') || null,\n  isFetching:false,\n  error:false\n}\nexport const ContextAppProvider = ({children}) => {\n  const [state,dispatch]=useReducer(reducer,INITIAL_STATE)\n\n  const startLogin=()=>{\n    dispatch({type:'START_LOGIN'})\n  }\n  const loginSuccess=(user)=>{\n    dispatch({type:'LOGIN_SUCCESS',payload:user})\n  }\n  const loginFail=()=>{\n    dispatch({type:'LOGIN_FAIL'})\n\n  }\n\nuseEffect(()=>{\n  localStorage.setItem('jwt',state.user)\n},[state.user])\n\nconst logoutUser=()=>{\n dispatch({type:'LOGOUT_USER'})\n window.location.replace('/')\n}\n  return <contextApi.Provider value={{logoutUser,loginSuccess,startLogin,loginFail,state}}>{children}</contextApi.Provider>\n};\n\n\nexport const useGlobalContext=()=>{\n    return useContext(contextApi)\n}\n"]},"metadata":{},"sourceType":"module"}